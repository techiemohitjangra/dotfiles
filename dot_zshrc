fpath+=${ZSH_CUSTOM:-${ZSH:-~/.oh-my-zsh}/custom}/plugins/zsh-completions/src
autoload -U compinit

# Path to your oh-my-zsh installation.
export ZSH="$HOME/.oh-my-zsh"

ZSH_THEME="robbyrussell"

plugins=(
    git
    zsh-autosuggestions
    zsh-syntax-highlighting
    zsh-completions
)

source $ZSH/oh-my-zsh.sh

# Preferred editor for local and remote sessions
if [[ -n $SSH_CONNECTION ]]; then
  export EDITOR='vim'
else
  export EDITOR='nvim'
fi

source $HOME/.zsh_profile
bindkey -v

# PATH
export PATH=$HOME/.local/bin:$PATH
export PATH=$HOME/.local/nvim/bin:$PATH
export PATH=$HOME/.local/zig:$PATH
export PATH=$HOME/.local/zen:$PATH
export PATH=$HOME/.local/arduino-ide:$PATH
export PATH=/opt/jetbrains:$PATH
export PATH=$HOME/.local/ghostty:$PATH
export PATH=$HOME/.local/grayjay_desktop_v5:$PATH

# C/C++ include files
export C_INCLUDE_PATH=/usr/include:$C_INCLUDE_PATH
export CPLUS_INCLUDE_PATH=/usr/include/c++:$CPLUS_INCLUDE_PATH
export LD_LIBRARY_PATH=/usr/include:$LD_LIBRARY_PATH

# Golang
export GOPATH=$HOME/go
export GOROOT=$HOME/.local/go
export GOBIN=$HOME/.local/go/bin
export PATH=$HOME/.local/go/bin:$PATH
export GOMODCACHE=$HOME/.local/go/pkg/mod

# .NET
export DOTNET_ROOT=/usr/lub/dotnet
export PATH=$PATH:$DOTNET_ROOT:$DOTNET_ROOT/tools
export PATH=/usr/lib/dotnet:$PATH

# Skia for Aseprite
export SKIA_DIR=/home/mohitjangra/skia
export SKIA_LIBRARY_DIR=/home/mohitjangra/skia/out/Release

# calibre dark mode
export CALIBRE_USE_DARK_PALETTE=1

# Aliases
alias python=python3
alias bat=batcat
alias fd=fdfind
alias ls=lsd

# Cursor Theme
export XCURSOR_THEME=breeze_cursor_theme

export GPG_TTY=$(tty)

# mangohud
# export MANGOHUD=1
export MANGOHUD_CONFIG=$HOME/.config/MangoHud/MangoHud.conf

# keybind to search history using fzf
history_search_fzf(){
    local cmd
    cmd=$(history | sort -rgb | sed 's/^[ ]*[0-9]*[ ]*//' | fzf --no-sort)

    if [[ -n "$cmd" ]]; then
        echo "command: $cmd"
        # Use a dedicated prompt for confirmation
        if read -q "confirm?Execute? (y/N): "; then
            echo    # Add a newline after the prompt
            eval "$cmd"
        fi
    fi
    zle reset-prompt
}
zle -N history_search_fzf
bindkey "^r" history_search_fzf

sessionizor(){
    ts
}
zle -N sessionizor
bindkey "^t" sessionizor

# Generated for envman. Do not edit.
[ -s "$HOME/.config/envman/load.sh" ] && source "$HOME/.config/envman/load.sh"
